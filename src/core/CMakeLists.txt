include_directories(. ..)

message( STATUS "BINARY_DIR: ${CMAKE_CURRENT_BINARY_DIR}")
include_directories(${CMAKE_CURRENT_BINARY_DIR}/../y/zlib)

file(GLOB quark y/concurrent/*.hxx)
set(srcs ${quark})

Y_CreateLibrary(y
.
concurrent/quark
concurrent/split
concurrent/thread
concurrent/mutex
concurrent/topology
concurrent/loop
concurrent/loop/simt
concurrent/pipeline
concurrent/pipeline/task
concurrent/resource
concurrent/frame
concurrent/frame/nucleus
concurrent/pipeline/multiplex
locking
config
check
type
system
calculus
stream
stream/io
stream/libc
stream/libc/buffer
stream/libc/readable
stream/libc/writable
stream/data
stream/gzip
stream/bzip2
stream/hash
stream/char
stream/disk
stream/proc
text
text/ascii
text/base64
codec
codec/base64
data
data/list
data/pool
data/gc
data/small
data/small/proxy
data/small/proto
data/small/light
data/small/light/list
data/small/heavy
data/small/heavy/list
concurrent
random
hashing
hashing/to
sort
sort/nw
utest 
memory
memory/allocator
memory/exclusive
memory/buffer
memory/solitary
memory/object
memory/embedding
ptr
container
container/iterator
container/matrix
container/cxx
container/algo
string
dft
dft/fmt
apex
apex/type
apex/block
apex/block/jig
apex/n
apex/z
apex/q
apex/api
apex/api/univocal
apex/api/ortho
apex/api/ortho/coven
apex/api/ortho/coven/survey
counting
counting/c
sequence
ordered
ordered/core
associative
associative/node
associative/suffix
associative/suffix/core
associative/suffix/map
associative/suffix/set
associative/hash
associative/hash/map
associative/hash/set
graphviz
mkl
mkl/cameo
mkl/cameo/add
mkl/antelope
vfs
vfs/local
information
information/stream
information/bwt
information/entropic
information/entropic/model
functor
rtld
field
field/layout
field/memory
field/meta-key
color
color/ramp
color/rgb
)

#add_executable(isaac_rand y/random/isaac/rand.c y/random/isaac/randtest.c)
#set(ISAAC_RAND_OUT ${CMAKE_CURRENT_BINARY_DIR}/isaac.txt)

source_group(concurrent FILES ${quark})
add_subdirectory(tests)
Y_Regression(core)
