#include "y/color/conv.hpp"

namespace Yttrium
{
    namespace Color
    {
#define UU \
U(  0), U(  1), U(  2), U(  3), U(  4), U(  5), U(  6), U(  7), U(  8), U(  9), U( 10), U( 11), U( 12), U( 13), U( 14), U( 15),\
U( 16), U( 17), U( 18), U( 19), U( 20), U( 21), U( 22), U( 23), U( 24), U( 25), U( 26), U( 27), U( 28), U( 29), U( 30), U( 31),\
U( 32), U( 33), U( 34), U( 35), U( 36), U( 37), U( 38), U( 39), U( 40), U( 41), U( 42), U( 43), U( 44), U( 45), U( 46), U( 47),\
U( 48), U( 49), U( 50), U( 51), U( 52), U( 53), U( 54), U( 55), U( 56), U( 57), U( 58), U( 59), U( 60), U( 61), U( 62), U( 63),\
U( 64), U( 65), U( 66), U( 67), U( 68), U( 69), U( 70), U( 71), U( 72), U( 73), U( 74), U( 75), U( 76), U( 77), U( 78), U( 79),\
U( 80), U( 81), U( 82), U( 83), U( 84), U( 85), U( 86), U( 87), U( 88), U( 89), U( 90), U( 91), U( 92), U( 93), U( 94), U( 95),\
U( 96), U( 97), U( 98), U( 99), U(100), U(101), U(102), U(103), U(104), U(105), U(106), U(107), U(108), U(109), U(110), U(111),\
U(112), U(113), U(114), U(115), U(116), U(117), U(118), U(119), U(120), U(121), U(122), U(123), U(124), U(125), U(126), U(127),\
U(128), U(129), U(130), U(131), U(132), U(133), U(134), U(135), U(136), U(137), U(138), U(139), U(140), U(141), U(142), U(143),\
U(144), U(145), U(146), U(147), U(148), U(149), U(150), U(151), U(152), U(153), U(154), U(155), U(156), U(157), U(158), U(159),\
U(160), U(161), U(162), U(163), U(164), U(165), U(166), U(167), U(168), U(169), U(170), U(171), U(172), U(173), U(174), U(175),\
U(176), U(177), U(178), U(179), U(180), U(181), U(182), U(183), U(184), U(185), U(186), U(187), U(188), U(189), U(190), U(191),\
U(192), U(193), U(194), U(195), U(196), U(197), U(198), U(199), U(200), U(201), U(202), U(203), U(204), U(205), U(206), U(207),\
U(208), U(209), U(210), U(211), U(212), U(213), U(214), U(215), U(216), U(217), U(218), U(219), U(220), U(221), U(222), U(223),\
U(224), U(225), U(226), U(227), U(228), U(229), U(230), U(231), U(232), U(233), U(234), U(235), U(236), U(237), U(238), U(239),\
U(240), U(241), U(242), U(243), U(244), U(245), U(246), U(247), U(248), U(249), U(250), U(251), U(252), U(253), U(254), U(255)

#define U(i) (i##.0f)/255

        template <> const float Conv<float>::Unit[256] =
        {
            UU
        };

#undef U
#define U(i) (i##.0)/255

        template <> const double Conv<double>::Unit[256] =
        {
            UU
        };

#undef U
#define U(i) (i##.0L)/255

        template <> const long double Conv<long double>::Unit[256] =
        {
            UU
        };

    }

}

namespace Yttrium
{
    namespace Color
    {
#define GG \
G(  0), G(  1), G(  2), G(  3), G(  4), G(  5), G(  6), G(  7), G(  8), G(  9), G( 10), G( 11), G( 12), G( 13), G( 14), G( 15), \
G( 16), G( 17), G( 18), G( 19), G( 20), G( 21), G( 22), G( 23), G( 24), G( 25), G( 26), G( 27), G( 28), G( 29), G( 30), G( 31), \
G( 32), G( 33), G( 34), G( 35), G( 36), G( 37), G( 38), G( 39), G( 40), G( 41), G( 42), G( 43), G( 44), G( 45), G( 46), G( 47), \
G( 48), G( 49), G( 50), G( 51), G( 52), G( 53), G( 54), G( 55), G( 56), G( 57), G( 58), G( 59), G( 60), G( 61), G( 62), G( 63), \
G( 64), G( 65), G( 66), G( 67), G( 68), G( 69), G( 70), G( 71), G( 72), G( 73), G( 74), G( 75), G( 76), G( 77), G( 78), G( 79), \
G( 80), G( 81), G( 82), G( 83), G( 84), G( 85), G( 86), G( 87), G( 88), G( 89), G( 90), G( 91), G( 92), G( 93), G( 94), G( 95), \
G( 96), G( 97), G( 98), G( 99), G(100), G(101), G(102), G(103), G(104), G(105), G(106), G(107), G(108), G(109), G(110), G(111), \
G(112), G(113), G(114), G(115), G(116), G(117), G(118), G(119), G(120), G(121), G(122), G(123), G(124), G(125), G(126), G(127), \
G(128), G(129), G(130), G(131), G(132), G(133), G(134), G(135), G(136), G(137), G(138), G(139), G(140), G(141), G(142), G(143), \
G(144), G(145), G(146), G(147), G(148), G(149), G(150), G(151), G(152), G(153), G(154), G(155), G(156), G(157), G(158), G(159), \
G(160), G(161), G(162), G(163), G(164), G(165), G(166), G(167), G(168), G(169), G(170), G(171), G(172), G(173), G(174), G(175), \
G(176), G(177), G(178), G(179), G(180), G(181), G(182), G(183), G(184), G(185), G(186), G(187), G(188), G(189), G(190), G(191), \
G(192), G(193), G(194), G(195), G(196), G(197), G(198), G(199), G(200), G(201), G(202), G(203), G(204), G(205), G(206), G(207), \
G(208), G(209), G(210), G(211), G(212), G(213), G(214), G(215), G(216), G(217), G(218), G(219), G(220), G(221), G(222), G(223), \
G(224), G(225), G(226), G(227), G(228), G(229), G(230), G(231), G(232), G(233), G(234), G(235), G(236), G(237), G(238), G(239), \
G(240), G(241), G(242), G(243), G(244), G(245), G(246), G(247), G(248), G(249), G(250), G(251), G(252), G(253), G(254), G(255), \
G(256), G(257), G(258), G(259), G(260), G(261), G(262), G(263), G(264), G(265), G(266), G(267), G(268), G(269), G(270), G(271), \
G(272), G(273), G(274), G(275), G(276), G(277), G(278), G(279), G(280), G(281), G(282), G(283), G(284), G(285), G(286), G(287), \
G(288), G(289), G(290), G(291), G(292), G(293), G(294), G(295), G(296), G(297), G(298), G(299), G(300), G(301), G(302), G(303), \
G(304), G(305), G(306), G(307), G(308), G(309), G(310), G(311), G(312), G(313), G(314), G(315), G(316), G(317), G(318), G(319), \
G(320), G(321), G(322), G(323), G(324), G(325), G(326), G(327), G(328), G(329), G(330), G(331), G(332), G(333), G(334), G(335), \
G(336), G(337), G(338), G(339), G(340), G(341), G(342), G(343), G(344), G(345), G(346), G(347), G(348), G(349), G(350), G(351), \
G(352), G(353), G(354), G(355), G(356), G(357), G(358), G(359), G(360), G(361), G(362), G(363), G(364), G(365), G(366), G(367), \
G(368), G(369), G(370), G(371), G(372), G(373), G(374), G(375), G(376), G(377), G(378), G(379), G(380), G(381), G(382), G(383), \
G(384), G(385), G(386), G(387), G(388), G(389), G(390), G(391), G(392), G(393), G(394), G(395), G(396), G(397), G(398), G(399), \
G(400), G(401), G(402), G(403), G(404), G(405), G(406), G(407), G(408), G(409), G(410), G(411), G(412), G(413), G(414), G(415), \
G(416), G(417), G(418), G(419), G(420), G(421), G(422), G(423), G(424), G(425), G(426), G(427), G(428), G(429), G(430), G(431), \
G(432), G(433), G(434), G(435), G(436), G(437), G(438), G(439), G(440), G(441), G(442), G(443), G(444), G(445), G(446), G(447), \
G(448), G(449), G(450), G(451), G(452), G(453), G(454), G(455), G(456), G(457), G(458), G(459), G(460), G(461), G(462), G(463), \
G(464), G(465), G(466), G(467), G(468), G(469), G(470), G(471), G(472), G(473), G(474), G(475), G(476), G(477), G(478), G(479), \
G(480), G(481), G(482), G(483), G(484), G(485), G(486), G(487), G(488), G(489), G(490), G(491), G(492), G(493), G(494), G(495), \
G(496), G(497), G(498), G(499), G(500), G(501), G(502), G(503), G(504), G(505), G(506), G(507), G(508), G(509), G(510), G(511), \
G(512), G(513), G(514), G(515), G(516), G(517), G(518), G(519), G(520), G(521), G(522), G(523), G(524), G(525), G(526), G(527), \
G(528), G(529), G(530), G(531), G(532), G(533), G(534), G(535), G(536), G(537), G(538), G(539), G(540), G(541), G(542), G(543), \
G(544), G(545), G(546), G(547), G(548), G(549), G(550), G(551), G(552), G(553), G(554), G(555), G(556), G(557), G(558), G(559), \
G(560), G(561), G(562), G(563), G(564), G(565), G(566), G(567), G(568), G(569), G(570), G(571), G(572), G(573), G(574), G(575), \
G(576), G(577), G(578), G(579), G(580), G(581), G(582), G(583), G(584), G(585), G(586), G(587), G(588), G(589), G(590), G(591), \
G(592), G(593), G(594), G(595), G(596), G(597), G(598), G(599), G(600), G(601), G(602), G(603), G(604), G(605), G(606), G(607), \
G(608), G(609), G(610), G(611), G(612), G(613), G(614), G(615), G(616), G(617), G(618), G(619), G(620), G(621), G(622), G(623), \
G(624), G(625), G(626), G(627), G(628), G(629), G(630), G(631), G(632), G(633), G(634), G(635), G(636), G(637), G(638), G(639), \
G(640), G(641), G(642), G(643), G(644), G(645), G(646), G(647), G(648), G(649), G(650), G(651), G(652), G(653), G(654), G(655), \
G(656), G(657), G(658), G(659), G(660), G(661), G(662), G(663), G(664), G(665), G(666), G(667), G(668), G(669), G(670), G(671), \
G(672), G(673), G(674), G(675), G(676), G(677), G(678), G(679), G(680), G(681), G(682), G(683), G(684), G(685), G(686), G(687), \
G(688), G(689), G(690), G(691), G(692), G(693), G(694), G(695), G(696), G(697), G(698), G(699), G(700), G(701), G(702), G(703), \
G(704), G(705), G(706), G(707), G(708), G(709), G(710), G(711), G(712), G(713), G(714), G(715), G(716), G(717), G(718), G(719), \
G(720), G(721), G(722), G(723), G(724), G(725), G(726), G(727), G(728), G(729), G(730), G(731), G(732), G(733), G(734), G(735), \
G(736), G(737), G(738), G(739), G(740), G(741), G(742), G(743), G(744), G(745), G(746), G(747), G(748), G(749), G(750), G(751), \
G(752), G(753), G(754), G(755), G(756), G(757), G(758), G(759), G(760), G(761), G(762), G(763), G(764), G(765)


#define G(i) (i##.0f)/765

        template <> const float Conv<float>::Gray[766] =
        {
            GG
        };


#undef G
#define G(i) (i##.0)/765

        template <> const double Conv<double>::Gray[766] =
        {
            GG
        };

#undef G
#define G(i) (i##.0L)/765

        template <> const long double Conv<long double>::Gray[766] =
        {
            GG
        };

#undef G
#define GMAX (unsigned(765))
#define G(i) static_cast<uint8_t>( ( unsigned(i) * GMAX)/GMAX )

        const uint8_t Conv8:: Gray[766] =
        {
            GG
        };

        uint8_t Conv8:: From(const uint8_t r, const uint8_t g, const uint8_t b) noexcept
        {
            return Gray[ unsigned(r) + unsigned(g) + unsigned(b) ];
        }

    }

}
